<%- include('header', {title: 'The Blog', cssFile: 'view-posts-css.css'}) %>
<%- include('nav.ejs') %>

<div class="container">
    <div class="content-section">
        <% if (blogPosts.length > 0) { %>
            <% blogPosts.forEach (post => { %>
                <div class="card">
                    <h2> <%= post.title %> </h2>
                    <p> <%= post.blogContent %> </p>
                    <div class="button-box">

                        <form action="/edit-posts" method="GET">
                            <input type="hidden" name="postId" value="<%= post.postId %>">
                            <button type="submit" class="form-buttons"> Edit</button>
                        </form>

                        <form action="/delete-posts" method="GET">
                            <input type="hidden" name="postId" value="<%= post.postId %>">
                                <button type="submit" class="form-buttons"> Delete</button>
                        </form>
                    </div>

                </div>
           <% }); %>
           <% } else { %>
            <p> no posts available</p>
           <%} %>

    </div>
</div>

<%- include('footer.ejs') %>
